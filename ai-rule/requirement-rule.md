## 需求分析规范

### 需求目录结构及文件格式说明
严格遵守这个目录结构和文件内容结构生成

#### 目录结构
需求文档所在的目录结构如下：
```
project-x/                             # 当前项目根目录
├── requirements/                      # 需求根目录
│     ├── draft/                       # 初始需求文档目录，这个目录下的文档是在要求AI分析需求文档的时候使用的
│     │    └── user-api/               # 具体某个初始需求目录（例如：用户接口需求），目录内部的文件格式多样，便于AI识别即可
│     │           ├── material1.txt    # 初始需求具体文件1
│     │           ├── material2.png    # 初始需求具体文件2
│     │           └── material3.md     # 初始需求具体文件3
│     ├── analysis/                    # 需求分析目录，存放经过AI分析后的需求文档，这个文档的内容是在开发阶段使用的
│     │    └── 2017-01-01-user-api/    # 经过AI分析后的目录，目录名称格式：`2017-01-01-{需求名称}`
│     │           └── feature.md       # AI分析后的详细需求文档，如果需求大，可拆分成多个文件
│     └── tasks.md                     # 需求任务列表文件，只包含已经被AI分析过，正在开发测试中，和已经完成的需求列表
└── README.md                          # 项目说明
```

#### 文件内容结构
1. tasks.md文件内容如下：
- 它是一个markdown文件，正文包含一个表格，表头有如下列组成：
  - 需求编号：即需求的文件夹名称，例如上面的`2017-01-01-user-api`文件夹名称
  - 需求描述：即需求文档的需求主题
  - 需求状态：需求状态有`待确认`，`待开发`，`开发中`，`待测试`，`完成`
    - 待确认：需求已经提交给AI分析完成，等待人工查看确认，需要添加一条记录，且状态设置为`待确认`
    - 待开发：需求人工确认通过，需要添加一条记录，且状态设置为`待开发`
    - 开发中：需求正在开发中，需要更新这条记录，状态设置为`开发中`
    - 待测试：需求已经开发完成，需要更新这条记录，状态设置为`待测试`
    - 完成：需求已经开发完成并人工测试通过，提交代码到远程仓库后，需要更新这条记录，状态设置为`完成`
- 其他规范：
  - 如果存在多个子需求，那么需求编号是同一个，需求描述就是多个拆分出来的子需求的需求主题

2. feature.md文件包含如下内容：
- 它是一个markdown文件，正文包含如下内容组成：
  - 需求主题：本次需求的描述
  - 需求实现：该需求实现思路
  - 需求改动：该需求可能改动的点，涉及的文件
  - 分析时间：需求分析时间，格式为`2017-01-01 10:00:00`

### 需求分析要点
1. 已经存在于`requirements`目录下`tasks.md`文件中的需求就不需要再次分析了，只需要分析`draft`目录下新的需求
2. 如果你觉得需求比较大，可以进行拆分，拆分出来的分析文件以`-`连接，例如：开发用户接口，可能会包含增删改查，用户授权等操作，那么可以拆分成 `feature-user-crud.md`，`feature-user-authorize.md`等多个文件
3. 需求分析文档生成后，你需要将需求分析文档记录到`requirements`目录下的`tasks.md`文件中    
  - 每次只能添加或者修改当前需求的记录，状态设置为`待确认`
  - 不能修改其他需求的记录
  - 不要删除这个文件
4. 如果人工确认需求无误，那么将该需求在`tasks.md`文件中的状态设置为`待开发`
  - 相关需求无误的判断指令大概如下：
    - 需求没有问题
    - 需求正确
    - 就按照这个需求来（进行/执行）
    - 需求分析的不错（正确/合理）
